<!DOCTYPE html>
<html lang="pt-br">


  <head>

    <title> Lumon Chat </title>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap">
    <link rel="icon" href="assets/favicon.svg" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module" src="js/chat.js" defer></script>
    <script type="module" src="./js/config.js"></script>
    <script type="module" src="./js/auth.js"></script>
    <script type="module" src="./js/ui.js"></script>
    <script type="module" src="./js/presence.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
   

  </head>
  
  
  <body>
    <h1> Lumon Chat </h1>
    <aside>
      <h2> Barra de usuários </h2>
      <div class="userCount" aria-live="polite" tabindex="0">
        <span>Usuários</span>
        <span id="counter" aria-live="polite">0</span>
      </div>

      <div class="userBoxContainer" id="userList" aria-live="polite">
      </div>
     
      
     
      <div class="userInfo">
        <div id="profileBtn" aria-label="Open profile" tabindex="0">
          <img  id="imgUser" class="imgUser" src="" alt="">
        </div>

        <div id="userDetails" tabindex="0">
          <div id="userName">User</div>
          <div id="statusDot" class="online"></div>
          <div id="statusDesc">Online</div>
        </div>

        <button id="logoutButton" aria-label="Botão de logout">
          <img src="assets/logout.png" alt="">
        </button>
      </div>

    </aside>


    <header>
      
      <button id="toggleAside" aria-label="Menu lateral">
        <img src="assets/menu.png" alt="" aria-hidden="true">
      </button>
      <div class="logo">
        <img src="assets/logocompletagotabranca.svg" alt="Logo Lumon Chat" style="height: 40px; width: auto; object-fit: contain;">
      </div>



      <div class="category-select">
        <input type="checkbox" id="options-view-button" />

        <label class="select-button" for="options-view-button">
          <i id="main-icon" class="bi bi-globe"></i>
          <div id="selected-value">Todas as Mensagens</div>
          <i class="bi bi-chevron-down ms-auto"></i> </label>

        <ul id="options">
          <li>
            <input type="radio" name="category" value="todas" id="todas" checked>
            <label for="todas" class="option">
              <i class="bi bi-chat-dots me-2"></i> Todas as Mensagens
            </label>
          </li>
          <li>
            <input type="radio" name="category" value="publica" id="publica_filter">
            <label for="publica_filter" class="option">
              <i class="bi bi-globe me-2"></i> Mensagem Pública
            </label>
          </li>
          <li>
            <input type="radio" name="category" value="privada" id="privada_filter">
            <label for="privada_filter" class="option">
              <i class="bi bi-lock me-2"></i> Mensagem Privada
            </label>
          </li>
        </ul>
      </div>



          
      <div class="theme-switch-wrapper">
        <label class="theme-switch" for="switchThemeBtn">
            <input type="checkbox" id="switchThemeBtn" aria-label="Trocar tema claro/escuro">
            <div class="slider round">
                <i class="bi bi-sun-fill"></i>
                <i class="bi bi-moon-stars-fill"></i>
            </div>
        </label>
      </div>
    </header>


    <main class="chat" id="mainChat"
      aria-live="polite" role="log" aria-relevant="additions" aria-atomic="false">
      <h2> Chat </h2>
    </main>

    
   
    <form class="writeArea">

    



      <h2> Caixa de texto </h2>

      <button type="button" id="togglePrivateBtn" aria-label="Alternar modo Privado/Público" title="Alternar modo Privado/Público" style="background: none; border: none; cursor: pointer; padding: 1px; display: flex; align-items: center; justify-content: center;">
          <img src="assets/openlock.svg" id="btnLockIcon" style="width: 50px; height: 50px; object-fit: contain;" alt="Cadeado">
      </button>

      <div id="directedIndicator" class="hidden" style="display: flex; align-items: center; justify-content: center; background-color: var(--c2); color: white; padding: 6px 12px; border-radius: 60px; font-size: 15px; margin-right: 8px; white-space: nowrap; height: 40px; align-self: center; box-shadow: inset 0 0 5px rgba(0,0,0,0.1);">
          Para: <strong id="directedUserName" style="margin: 0 5px; color: #ffffff; font-weight: bolder;"></strong>
          <button type="button" id="cancelDirectedBtn" style="background: none; border: none; color: #ff4a4a; cursor: pointer; font-size: 14px; margin-left: 2px; width: 30px; height: 50px; padding: 0; font-weight: bold;" title="Cancelar">✖</button>
      </div>

      <label for="newMsg" class="hidden">Message</label>
      <input type="text" id="newMsg" aria-label="Digite sua mensagem" style="flex-grow: 1; min-width: 50px;">
      
      <button type="submit" id="sendButton" aria-label="Enviar mensagem">
          <svg viewBox="0 0 24 24" class="icon" aria-hidden="true">
            <path d="M2 21L23 12L2 3V10L17 12L2 14V21Z"/>
          </svg>
      </button>

    </form>


    

    <dialog id="alertBox" aria-labelledby="logoutTitle">
      <div class="exitContent">
        <p id="logoutTitle">Tem certeza que deseja sair?</p>
        <button id="cancelLogout">Cancelar</button>
        <button id="confirmLogout">Sair</button>
      </div>
    </dialog>

    <audio id="beep" src="assets/msgbeep.mp3"></audio>


    <script>
        if (localStorage.getItem("tema") === "dark") {
          document.documentElement.classList.add("dark");
        }
   </script>

  </body>
  
  
</html>
